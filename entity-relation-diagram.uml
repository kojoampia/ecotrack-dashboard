@startuml
!theme plain
skinparam class {
    BackgroundColor white
    BorderColor #10b981
    ArrowColor #059669
}
skinparam shadowing false

package "Identity & Multi-Tenancy" {
    class Tenant {
        + UUID id [PK]
        + String name
        + String subscription_tier
    }

    class User {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + String login
        + String email
        + String first_name
        + String last_name
        + Boolean activated
        + String lang_key
    }
}

package "Supply Chain Entities" {
    class Supplier {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + String company_name
        + String contact_email
        + String industry
        + Integer tier
    }

    class Product {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + UUID supplier_id [FK]
        + String name
        + String sku
        + String description
        + DateTime created_date
    }
}

package "The Green Ledger (Observability)" {
    class Sensor {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + String sensor_uid
        + Enum type
        + String location
        + Enum status
        + DateTime last_ping
    }

    class EmissionRecord {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + UUID product_id [FK]
        + Enum scope
        + Long carbon_grams
        + DateTime date_recorded
        + String source
        + Float confidence_score
    }
}

package "Audit & Governance" {
    class AuditLog {
        + UUID id [PK]
        + UUID tenant_id [FK]
        + String entity_name
        + UUID entity_id
        + String action
        + String modified_by
        + String details
        + DateTime timestamp
    }
}

' Relationships
Tenant "1" -- "N" User : owns
Tenant "1" -- "N" Supplier : manages
Tenant "1" -- "N" Product : catalogs
Tenant "1" -- "N" Sensor : monitors
Tenant "1" -- "N" EmissionRecord : audits
Tenant "1" -- "N" AuditLog : tracks

Supplier "1" -- "N" Product : supplies
Product "1" -- "N" EmissionRecord : generates impact
@endum